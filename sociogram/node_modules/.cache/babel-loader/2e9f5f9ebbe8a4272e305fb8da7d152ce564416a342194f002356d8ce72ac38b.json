{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nexport default {\n  name: \"ProfileView\",\n  props: {},\n  data() {\n    return {\n      isFollowing: true,\n      friendDetails: undefined,\n      imageURL: \"\",\n      friendPosts: undefined,\n      followingList: undefined,\n      followingIdList: [],\n      userDetails: undefined\n    };\n  },\n  watch: {},\n  computed: {},\n  methods: {\n    async unfollow() {\n      await axios.post(\"http://10.20.5.50:8080/following/unFollow?userId1=\" + localStorage.getItem(\"userId\") + \"&userId2=\" + localStorage.getItem(\"friendId\")).then(res => {\n        console.log(res.data);\n      });\n      window.location.reload();\n    },\n    async follow() {\n      await axios.post(\"http://10.20.5.50:8080/following/addRequest?userId=\" + localStorage.getItem(\"friendId\"), {});\n    }\n  },\n  async created() {\n    await axios.post(\"http://10.20.5.50:8080/user/getProfileByUserId?userId=\" + localStorage.getItem(\"friendId\")).then(res => {\n      this.friendDetails = res.data;\n      console.log(this.friendDetails);\n    });\n    await axios.post(\"http://10.20.5.50:8080/user/getProfileByUserId?userId=\" + localStorage.getItem(\"userId\")).then(res => {\n      console.log(\"myuser\");\n      this.userDetails = res.data;\n      console.log(this.userDetails);\n    });\n    await axios.get(\"/instaPosts/post/getAllPostsByUser/\" + localStorage.getItem(\"friendId\"), {\n      headers: {\n        Authorization: localStorage.getItem(\"token\"),\n        userId: localStorage.getItem(\"userId\")\n      }\n    }).then(res => {\n      this.friendPosts = res.data;\n      console.log(this.friendPosts);\n    });\n    await axios.get(\"http://10.20.5.50:8080/following/getListOfFollowing/\" + localStorage.getItem(\"userId\")).then(res => {\n      console.log(res.data);\n      this.followingList = res.data;\n    });\n    for (let i = 0; i < this.followingList.length; i++) {\n      this.followingIdList.push(this.followingList[i].userId);\n    }\n    console.log(this.followingIdList);\n    if (this.followingIdList.includes(localStorage.getItem(\"friendId\"))) this.isFollowing = true;else this.isFollowing = false;\n    console.log(this.isFollowing);\n  }\n};","map":{"version":3,"mappings":";AAyCA;AACA;EACAA;EACAC;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;EACAC;EACAC;IACA;MACA,YACAC,KACA,uDACAC,iCACA,cACAA,iCACA,CACAC;QACAC;MACA;MACAC;IACA;IACA;MACA,iBACA,wDACAH,kCACA,GACA;IACA;EACA;EACA;IACA,YACAD,KACA,2DACAC,iCACA,CACAC;MACA;MACAC;IACA;IACA,YAEAH,KACA,2DACAC,+BACA,CACAC;MACAC;MACA;MACAA;IACA;IAEA,YACAE,IACA,wCACAJ,kCACA;MACAK;QACAC;QACAC;MACA;IACA,EACA,CACAN;MACA;MACAC;IACA;IAEA,YACAE,IACA,yDACAJ,+BACA,CACAC;MACAC;MACA;IACA;IAEA;MACA;IACA;IACAA;IACA,qEACA,6BACA;IACAA;EACA;AACA","names":["name","props","data","isFollowing","friendDetails","imageURL","friendPosts","followingList","followingIdList","userDetails","watch","computed","methods","post","localStorage","then","console","window","get","headers","Authorization","userId"],"sourceRoot":"src/views","sources":["FriendProfile.vue"],"sourcesContent":["<template>\n  <div class=\"friend-container\">\n    <div class=\"maindiv\">\n      <div class=\"dp\">\n        <img :src=\"friendDetails.imageURL\" alt=\"dp\" class=\"dpimage\" />\n      </div>\n      <div class=\"div2\">\n        <p class=\"class1\">\n          {{ friendDetails.username }}\n          <a href=\"\" class=\"settings\">&#9881;</a>\n        </p>\n        <br />\n        <p class=\"class2\">\n          {{ friendPosts.length }} Posts\n          <router-link to=\"/followersView\">Followers</router-link>\n          <router-link to=\"/followingView\">Following</router-link>\n          <router-view />\n          <button v-if=\"isFollowing\" @click=\"unfollow\">Unfollow</button>\n          <button v-else @click=\"follow\">Follow</button>\n        </p>\n      </div>\n    </div>\n    <div class=\"posts\">\n      <div\n        v-for=\"(post, index) in friendPosts\"\n        :key=\"index\"\n        class=\"post-container\"\n      >\n        <p>\n          <img\n            class=\"image-div\"\n            :src=\"post.filePostedURL\"\n            alt=\"image not found\"\n          />\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"ProfileView\",\n  props: {},\n  data() {\n    return {\n      isFollowing: true,\n      friendDetails: undefined,\n      imageURL: \"\",\n      friendPosts: undefined,\n      followingList: undefined,\n      followingIdList: [],\n      userDetails: undefined,\n    };\n  },\n  watch: {},\n  computed: {},\n  methods: {\n    async unfollow() {\n      await axios\n        .post(\n          \"http://10.20.5.50:8080/following/unFollow?userId1=\" +\n            localStorage.getItem(\"userId\") +\n            \"&userId2=\" +\n            localStorage.getItem(\"friendId\")\n        )\n        .then((res) => {\n          console.log(res.data);\n        });\n      window.location.reload();\n    },\n    async follow() {\n      await axios.post(\n        \"http://10.20.5.50:8080/following/addRequest?userId=\" +\n          localStorage.getItem(\"friendId\"),\n        {}\n      );\n    },\n  },\n  async created() {\n    await axios\n      .post(\n        \"http://10.20.5.50:8080/user/getProfileByUserId?userId=\" +\n          localStorage.getItem(\"friendId\")\n      )\n      .then((res) => {\n        this.friendDetails = res.data;\n        console.log(this.friendDetails);\n      });\n    await axios\n\n      .post(\n        \"http://10.20.5.50:8080/user/getProfileByUserId?userId=\" +\n          localStorage.getItem(\"userId\")\n      )\n      .then((res) => {\n        console.log(\"myuser\");\n        this.userDetails = res.data;\n        console.log(this.userDetails);\n      });\n\n    await axios\n      .get(\n        \"/instaPosts/post/getAllPostsByUser/\" +\n          localStorage.getItem(\"friendId\"),\n        {\n          headers: {\n            Authorization: localStorage.getItem(\"token\"),\n            userId: localStorage.getItem(\"userId\"),\n          },\n        }\n      )\n      .then((res) => {\n        this.friendPosts = res.data;\n        console.log(this.friendPosts);\n      });\n\n    await axios\n      .get(\n        \"http://10.20.5.50:8080/following/getListOfFollowing/\" +\n          localStorage.getItem(\"userId\")\n      )\n      .then((res) => {\n        console.log(res.data);\n        this.followingList = res.data;\n      });\n\n    for (let i = 0; i < this.followingList.length; i++) {\n      this.followingIdList.push(this.followingList[i].userId);\n    }\n    console.log(this.followingIdList);\n    if (this.followingIdList.includes(localStorage.getItem(\"friendId\")))\n      this.isFollowing = true;\n    else this.isFollowing = false;\n    console.log(this.isFollowing);\n  },\n};\n</script>\n\n<style scoped>\n.posts {\n  display: flex;\n  flex-wrap: wrap;\n  margin-left: 17vw;\n}\n.image-div {\n  width: 20vw;\n  height: 30vh;\n  margin: 10px;\n}\n.friend-container {\n  display: flex;\n  flex-direction: column;\n}\n.maindiv {\n  display: flex;\n  flex-wrap: row-wrap;\n  justify-content: center;\n  height: 30vh;\n  border-bottom: 0.1vh solid gray;\n}\n.dp {\n  width: 20vw;\n  height: 25vh;\n  /* border: 2vh solid black;\n  border-radius: 50%; */\n  display: flex;\n  justify-content: space-around;\n}\n.div2 {\n  width: 50vw;\n}\n.dpimage {\n  width: 13vw;\n  height: 25vh;\n  border-radius: 100%;\n}\n.editprofilebutton {\n  width: 20vh;\n  height: 3vh;\n}\n.settings {\n  content: \\2699;\n  font-size: 5vh;\n  text-decoration: none;\n  color: black;\n}\n.class1 {\n  width: 60vh;\n  height: 2vh;\n  display: flex;\n  justify-content: space-around;\n}\n.class1 a {\n  text-decoration: none;\n}\n.class2,\n.class3 {\n  width: 60vh;\n  height: 2vh;\n  display: flex;\n  justify-content: space-around;\n}\n.class2 a {\n  text-decoration: none;\n}\n.class3 {\n  display: flex;\n  justify-content: left;\n  margin-left: 5vh;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}