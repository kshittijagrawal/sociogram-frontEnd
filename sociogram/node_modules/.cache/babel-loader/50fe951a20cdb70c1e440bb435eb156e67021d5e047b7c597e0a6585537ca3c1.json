{"ast":null,"code":"\n// import { storage } from \"@/firebase\";\n// import axios from \"axios\";\n// import { ref, uploadBytes, getDownloadURL } from \"@firebase/storage\";\n// import \"firebase/storage\";\n// // import PostInfo from \"../views/PostInfo.vue\";\n// export default {\n//   data() {\n//     return {\n//       userId: \"\",\n//       datePosted: \"\",\n//       fileType: \"images\",\n//       filePostedURL: \"\",\n//       caption: \"MAc Book Pro !!!\",\n//       url: \"\",\n//       fileName: \"\",\n//     };\n//   },\n//   components: {\n//     // PostInfo,\n//   },\n//   methods: {\n//     HandleFileChange(event) {\n//       const file = event.target.files[0];\n//       this.fileName = file.name;\n//     },\n//     async upload() {\n//       const storageRef = ref(storage, `Images/${this.fileName}`);\n//       await uploadBytes(storageRef, this.$refs.inputs.files[0]).then((res) => {\n//         console.log(\"From upload\");\n//         console.log(res);\n//       });\n//       await getDownloadURL(ref(storage, `Images/${this.fileName}`)).then(\n//         (res) => {\n//           this.url = res;\n//           console.log(\"from download\");\n//           this.$router.push(\"/postinfo\");\n//           console.log(this.url);\n//           localStorage.setItem(\"imageURL\", this.url);\n//         }\n//       );\n//       await axios.post(\"http://10.20.5.50:8080/user/addPost\", {\n//         headers: {\n//           Authorization: localStorage.getItem(\"token\"),\n//           userId: localStorage.getItem(\"userId\"),\n//         },\n//         // },\n//         // {\n//         userId: localStorage.getItem(\"userId\"),\n//         datePosted: new Date(),\n//         fileType: this.fileType,\n//         filePostedURL: this.url,\n//         caption: this.caption,\n//       });\n//       console.log(localStorage.getItem(\"token\"));\n//     },\n//   },\n// };\n//","map":{"version":3,"mappings":";AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","names":[],"sourceRoot":"src/views","sources":["ImageUpload.vue"],"sourcesContent":["// <template>\n//   <div>\n//     <!-- <img :src=\"url\" class=\"post-image\" /> -->\n//     <input type=\"file\" ref=\"inputs\" @change=\"HandleFileChange\" />\n//     <button @click=\"upload\">Upload</button>\n//   </div>\n// </template>\n\n// <script>\n// import { storage } from \"@/firebase\";\n// import axios from \"axios\";\n// import { ref, uploadBytes, getDownloadURL } from \"@firebase/storage\";\n// import \"firebase/storage\";\n// // import PostInfo from \"../views/PostInfo.vue\";\n// export default {\n//   data() {\n//     return {\n//       userId: \"\",\n//       datePosted: \"\",\n//       fileType: \"images\",\n//       filePostedURL: \"\",\n//       caption: \"MAc Book Pro !!!\",\n//       url: \"\",\n//       fileName: \"\",\n//     };\n//   },\n//   components: {\n//     // PostInfo,\n//   },\n//   methods: {\n//     HandleFileChange(event) {\n//       const file = event.target.files[0];\n//       this.fileName = file.name;\n//     },\n//     async upload() {\n//       const storageRef = ref(storage, `Images/${this.fileName}`);\n//       await uploadBytes(storageRef, this.$refs.inputs.files[0]).then((res) => {\n//         console.log(\"From upload\");\n//         console.log(res);\n//       });\n//       await getDownloadURL(ref(storage, `Images/${this.fileName}`)).then(\n//         (res) => {\n//           this.url = res;\n//           console.log(\"from download\");\n//           this.$router.push(\"/postinfo\");\n//           console.log(this.url);\n//           localStorage.setItem(\"imageURL\", this.url);\n//         }\n//       );\n//       await axios.post(\"http://10.20.5.50:8080/user/addPost\", {\n//         headers: {\n//           Authorization: localStorage.getItem(\"token\"),\n//           userId: localStorage.getItem(\"userId\"),\n//         },\n//         // },\n//         // {\n//         userId: localStorage.getItem(\"userId\"),\n//         datePosted: new Date(),\n//         fileType: this.fileType,\n//         filePostedURL: this.url,\n//         caption: this.caption,\n//       });\n//       console.log(localStorage.getItem(\"token\"));\n//     },\n//   },\n// };\n// </script>\n// <style scoped>\n// .post-image {\n//   width: 30vw;\n//   height: 50vh;\n// }\n// </style>\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}