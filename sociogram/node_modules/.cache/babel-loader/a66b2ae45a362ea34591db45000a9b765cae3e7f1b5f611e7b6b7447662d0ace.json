{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nexport default {\n  name: \"PostComponent\",\n  props: {\n    post: {\n      type: Object\n    },\n    userImageUrl: {\n      type: Array,\n      default: () => [],\n      required: true\n    },\n    userNameList: {\n      type: Array,\n      default: () => [],\n      required: true\n    }\n  },\n  methods: {\n    emitParent(post) {\n      console.log(post.postId);\n      this.$emit(\"parent-emit\", post);\n    },\n    async likePost(post) {\n      console.log(post.postId);\n      await axios.post(\"http://10.20.5.50:8081/post/likePost/\" + post.postId + \"/63d9524f130ce2134b2aa8d4\");\n      // window.location.reload();\n    },\n\n    async handleSubmit(post) {\n      console.log(post.postId);\n      await axios.post(\"http://10.20.5.50:8081/comment/addComment\", {\n        postId: post.postId,\n        userId: \"63d9524f130ce2134b2aa8d4\",\n        commentText: this.comment\n      });\n      window.location.reload();\n    },\n    async openProfile(post, index) {\n      await axios.post(\"/api/user/getProfileByUserId?userId=\" + post.userId);\n      this.$router.push(\"/friendprofile\");\n      localStorage.setItem(\"imageURL\", this.userImageUrl[index]);\n    },\n    showComments(post, userName, userImageUrl) {\n      localStorage.setItem(\"post\", JSON.stringify(post));\n      localStorage.setItem(\"userName\", userName);\n      localStorage.setItem(\"userImageUrl\", userImageUrl);\n      this.$router.push(\"/viewcomments\");\n    }\n  }\n};","map":{"version":3,"mappings":";AAsDA;AACA;EACAA;EACAC;IACAC;MACAC;IACA;IACAC;MACAD;MACAE;MACAC;IACA;IACAC;MACAJ;MACAE;MACAC;IACA;EACA;EACAE;IACAC;MACAC;MACA;IACA;IACA;MACAA;MACA,iBACA,0CACAR,cACA,4BACA;MACA;IACA;;IAEA;MACAQ;MACA;QACAC;QACAC;QACAC;MACA;MACAC;IACA;IACA;MACA;MACA;MACAC;IACA;IACAC;MACAD;MACAA;MACAA;MACA;IACA;EACA;AACA","names":["name","props","post","type","userImageUrl","default","required","userNameList","methods","emitParent","console","postId","userId","commentText","window","localStorage","showComments"],"sourceRoot":"src/components","sources":["PostComponent.vue"],"sourcesContent":["<template>\n  <div>\n    <div @click=\"openProfile(post)\" class=\"post-header\">\n      <p>\n        <img class=\"dp\" :src=\"userImageUrl\" alt=\"image not found\" />\n      </p>\n      <p class=\"username\">{{ userNameList }}</p>\n    </div>\n    <div class=\"post-content\">\n      <p>\n        <img class=\"post-img\" :src=\"post.filePostedURL\" alt=\"image not found\" />\n      </p>\n    </div>\n    <div class=\"post-footer\">\n      <div class=\"footer-actions\">\n        <img\n          class=\"heart\"\n          src=\"../assets/images/heart.png\"\n          alt=\"image not found\"\n          @click=\"likePost(post)\"\n        />\n        <img\n          class=\"comment\"\n          src=\"../assets/images/comment.png\"\n          alt=\"image not found\"\n        />\n        <img\n          class=\"share\"\n          src=\"../assets/images/send.png\"\n          alt=\"image not found\"\n        />\n      </div>\n      <div class=\"likes\">\n        <p v-if=\"post.likes === null\">0 likes</p>\n        <p v-else>{{ post.likes.length }} likes</p>\n      </div>\n      <div\n        @click=\"showComments(post, userNameList[index], userImageUrl[index])\"\n        class=\"view-comments\"\n      >\n        <p v-if=\"post.commentIds === null\">No comments</p>\n        <p v-else>View all {{ post.commentIds.length }} comments</p>\n      </div>\n      <div class=\"add-comment\">\n        <form @submit.prevent=\"handleSubmit(post)\">\n          <input v-model=\"comment\" type=\"text\" placeholder=\"Add a comment...\" />\n          <button>Post</button>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"PostComponent\",\n  props: {\n    post: {\n      type: Object,\n    },\n    userImageUrl: {\n      type: Array,\n      default: () => [],\n      required: true,\n    },\n    userNameList: {\n      type: Array,\n      default: () => [],\n      required: true,\n    },\n  },\n  methods: {\n    emitParent(post) {\n      console.log(post.postId);\n      this.$emit(\"parent-emit\", post);\n    },\n    async likePost(post) {\n      console.log(post.postId);\n      await axios.post(\n        \"http://10.20.5.50:8081/post/likePost/\" +\n          post.postId +\n          \"/63d9524f130ce2134b2aa8d4\"\n      );\n      // window.location.reload();\n    },\n\n    async handleSubmit(post) {\n      console.log(post.postId);\n      await axios.post(\"http://10.20.5.50:8081/comment/addComment\", {\n        postId: post.postId,\n        userId: \"63d9524f130ce2134b2aa8d4\",\n        commentText: this.comment,\n      });\n      window.location.reload();\n    },\n    async openProfile(post, index) {\n      await axios.post(\"/api/user/getProfileByUserId?userId=\" + post.userId);\n      this.$router.push(\"/friendprofile\");\n      localStorage.setItem(\"imageURL\", this.userImageUrl[index]);\n    },\n    showComments(post, userName, userImageUrl) {\n      localStorage.setItem(\"post\", JSON.stringify(post));\n      localStorage.setItem(\"userName\", userName);\n      localStorage.setItem(\"userImageUrl\", userImageUrl);\n      this.$router.push(\"/viewcomments\");\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}